pkgname=super-simple-ssh-client
pkgver=0.1.2
pkgrel=1
pkgdesc="Super Simple SSH client"
arch=('x86_64')
url="https://github.com/${GITHUB_REPOSITORY}"
license=('MIT')
depends=('glibc' 'libssh2' 'openssl' 'zlib')
makedepends=('cargo' 'rust' 'pkgconf')
source=("${pkgname}-${pkgver}.tar.gz")
sha256sums=('SKIP')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  export LIBSSH2_SYS_USE_PKG_CONFIG=1
  cargo build --release --locked
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  install -Dm755 "target/release/ss-ssh" "${pkgdir}/usr/bin/ss-ssh"
  install -Dm644 "packaging/ss-ssh.desktop" "${pkgdir}/usr/share/applications/ss-ssh.desktop"
}
